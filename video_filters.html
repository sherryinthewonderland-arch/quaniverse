
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Quaniverse Â· ç­›é€‰è§†é¢‘è§†å›¾</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>ğŸï¸ Quaniverse Â· è§†é¢‘åˆ†ç±»å¯¼èˆª</h1>
<h2>ğŸ“† æŒ‰çºªå…ƒç­›é€‰</h2><h2>ğŸ·ï¸ æŒ‰æ ‡ç­¾ç­›é€‰</h2></body></html>
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".like-btn").forEach(btn => {
    const link = btn.dataset.link;
    const countSpan = btn.nextElementSibling;

    fetch("http://localhost:5000/get_likes/" + encodeURIComponent(link))
      .then(r => r.json()).then(d => {
        countSpan.textContent = ` (${d.likes || 0})`;
      });

    btn.addEventListener("click", () => {
      fetch("http://localhost:5000/like_video", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ link })
      })
      .then(r => r.json()).then(d => {
        countSpan.textContent = ` (${d.likes})`;
      });
    });
  });
});
</script>
